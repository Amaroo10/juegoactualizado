<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Memorice - Breden Master</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            overflow-x: hidden;
        }
        
        .card-3d {
            transform-style: preserve-3d;
            transition: transform 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }
        
        .card-3d.flipped {
            transform: rotateY(180deg);
        }
        
        .card-3d:active:not(.flipped) {
            transform: scale(0.95);
        }
        
        .card-face {
            backface-visibility: hidden;
            -webkit-backface-visibility: hidden;
        }
        
        .card-back {
            transform: rotateY(180deg);
        }
        
        @keyframes successPop {
            0% { transform: rotateY(180deg) scale(1); }
            50% { transform: rotateY(180deg) scale(1.2) rotate(5deg); }
            75% { transform: rotateY(180deg) scale(0.95) rotate(-3deg); }
            100% { transform: rotateY(180deg) scale(1) rotate(0deg); }
        }
        
        @keyframes sparkle {
            0% { 
                opacity: 0; 
                transform: scale(0) rotate(0deg); 
            }
            50% { 
                opacity: 1; 
                transform: scale(1.5) rotate(180deg); 
            }
            100% { 
                opacity: 0; 
                transform: scale(0) rotate(360deg); 
            }
        }
        
        @keyframes cardFlip {
            0% { transform: rotateY(0deg); }
            100% { transform: rotateY(180deg); }
        }
        
        @keyframes cardFlipBack {
            0% { transform: rotateY(180deg); }
            100% { transform: rotateY(0deg); }
        }
        
        @keyframes shine {
            0% { box-shadow: 0 0 5px rgba(255, 255, 255, 0.5); }
            50% { box-shadow: 0 0 20px rgba(255, 255, 255, 0.8), 0 0 30px rgba(255, 215, 0, 0.6); }
            100% { box-shadow: 0 0 5px rgba(255, 255, 255, 0.5); }
        }
        
        .card-matched .card-back {
            animation: successPop 0.8s ease-out, shine 2s ease-in-out infinite;
        }
        
        .sparkle-effect {
            position: absolute;
            font-size: 2.5rem;
            pointer-events: none;
            animation: sparkle 1s ease-out forwards;
            z-index: 1000;
        }
        
        @keyframes confettiFall {
            0% { 
                transform: translateY(-100vh) rotate(0deg); 
                opacity: 1; 
            }
            100% { 
                transform: translateY(100vh) rotate(720deg); 
                opacity: 0; 
            }
        }
        
        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background: #f0f;
            animation: confettiFall 3s linear forwards;
            z-index: 9999;
        }
    </style>
</head>
<body>
    <div id="app"></div>

    <script>
        const emojis = ['ü•ñ', 'ü•ê', 'üç©', 'ü•Ø', 'üßÅ', 'üç™', 'ü•™', 'üçû'];
        
        let cards = [];
        let flipped = [];
        let solved = [];
        let moves = 0;
        let gameWon = false;
        let showInitial = true;
        let timer = 0;
        let gameStarted = false;
        let timerInterval = null;

        function initializeGame() {
            const shuffledCards = [...emojis, ...emojis]
                .sort(() => Math.random() - 0.5)
                .map((emoji, index) => ({ id: index, emoji }));
            
            cards = shuffledCards;
            flipped = [];
            solved = [];
            moves = 0;
            gameWon = false;
            showInitial = true;
            timer = 0;
            gameStarted = false;
            
            if (timerInterval) clearInterval(timerInterval);
            
            render();
            
            setTimeout(() => {
                showInitial = false;
                gameStarted = true;
                startTimer();
                render();
            }, 2000);
        }

        function startTimer() {
            timerInterval = setInterval(() => {
                if (!gameWon) {
                    timer++;
                    render();
                }
            }, 1000);
        }

        function handleCardClick(id) {
            if (!gameStarted || showInitial || flipped.length === 2 || flipped.includes(id) || solved.includes(id)) {
                return;
            }

            const newFlipped = [...flipped, id];
            flipped = newFlipped;
            render();

            if (newFlipped.length === 2) {
                moves++;
                const [first, second] = newFlipped;
                if (cards[first].emoji === cards[second].emoji) {
                    // Agregar efecto visual de √©xito
                    setTimeout(() => {
                        createSparkles(first);
                        createSparkles(second);
                        createConfetti();
                    }, 300);
                    
                    setTimeout(() => {
                        solved = [...solved, first, second];
                        flipped = [];
                        
                        if (solved.length === emojis.length * 2) {
                            gameWon = true;
                            clearInterval(timerInterval);
                            createBigConfetti();
                        }
                        render();
                    }, 800);
                } else {
                    setTimeout(() => {
                        flipped = [];
                        render();
                    }, 1000);
                }
            }
        }

        function createSparkles(cardId) {
            const cardElement = document.querySelector(`[data-card-id="${cardId}"]`);
            if (!cardElement) return;
            
            const sparkleEmojis = ['‚ú®', '‚≠ê', 'üí´', 'üåü', '‚ú®', '‚≠ê'];
            
            for (let i = 0; i < 6; i++) {
                const sparkle = document.createElement('div');
                sparkle.className = 'sparkle-effect';
                sparkle.textContent = sparkleEmojis[i];
                
                const angle = (i / 6) * Math.PI * 2;
                const distance = 60;
                const left = 50 + Math.cos(angle) * distance;
                const top = 50 + Math.sin(angle) * distance;
                
                sparkle.style.left = `${left}%`;
                sparkle.style.top = `${top}%`;
                sparkle.style.animationDelay = `${i * 0.1}s`;
                
                cardElement.appendChild(sparkle);
                
                setTimeout(() => sparkle.remove(), 1200);
            }
        }

        function createConfetti() {
            const colors = ['#FFD700', '#FF69B4', '#00CED1', '#FF1493', '#00FF00', '#FF4500'];
            
            for (let i = 0; i < 15; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = `${Math.random() * 100}%`;
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.animationDelay = `${Math.random() * 0.3}s`;
                confetti.style.animationDuration = `${2 + Math.random() * 2}s`;
                
                document.body.appendChild(confetti);
                
                setTimeout(() => confetti.remove(), 4000);
            }
        }

        function createBigConfetti() {
            const colors = ['#FFD700', '#FF69B4', '#00CED1', '#FF1493', '#00FF00', '#FF4500'];
            
            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = `${Math.random() * 100}%`;
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.animationDelay = `${Math.random() * 0.5}s`;
                confetti.style.animationDuration = `${2 + Math.random() * 2}s`;
                confetti.style.width = `${8 + Math.random() * 8}px`;
                confetti.style.height = `${8 + Math.random() * 8}px`;
                
                document.body.appendChild(confetti);
                
                setTimeout(() => confetti.remove(), 5000);
            }
        }

        function render() {
            const app = document.getElementById('app');
            
            app.innerHTML = `
                <div class="min-h-screen flex flex-col items-center justify-center p-8 relative overflow-hidden"
                     style="background: linear-gradient(180deg, #D14A8F 0%, #C8488C 100%);">
                    
                    <!-- Logo Breden Master arriba con fondo -->
                    <div class="absolute top-0 left-0 right-0 z-20 py-4" style="background: linear-gradient(135deg, #D14A8F 0%, #C8488C 100%);">
                        <div class="flex items-center justify-center gap-4 relative">
                            <!-- Confeti alrededor del logo -->
                            <div class="absolute top-2 left-1/4 w-2 h-3 bg-yellow-400 rounded-full"></div>
                            <div class="absolute top-4 left-1/3 w-2 h-3 bg-white rounded-full"></div>
                            <div class="absolute top-1 right-1/4 w-2 h-3 bg-green-400 rounded-full"></div>
                            <div class="absolute top-3 right-1/3 w-2 h-3 bg-orange-400 rounded-full"></div>
                            <div class="absolute top-5 left-1/2 w-2 h-3 bg-pink-300 rounded-full"></div>
                            
                            <!-- Logo del pan rojo -->
                            <div class="relative" style="width: 100px; height: 100px;">
                                <svg viewBox="0 0 200 200" class="w-full h-full">
                                    <!-- Forma del pan rojo -->
                                    <path d="M 30 90 Q 30 50 60 40 Q 100 30 120 50 Q 140 30 170 50 Q 190 70 190 110 Q 190 150 170 170 L 30 170 Q 15 150 15 120 Q 15 100 30 90 Z" 
                                          fill="#C21E4A"/>
                                    <!-- Texto Breden en blanco -->
                                    <text x="100" y="105" font-size="34" font-weight="bold" fill="white" text-anchor="middle" font-family="Arial, sans-serif">Breden</text>
                                    <!-- Texto Master en blanco -->
                                    <text x="100" y="135" font-size="30" font-weight="bold" fill="white" text-anchor="middle" font-family="Arial, sans-serif">Master.</text>
                                </svg>
                            </div>
                            <!-- Texto Felicidad en blanco -->
                            <div class="text-white text-left">
                                <div class="font-bold leading-none" style="font-size: 3.5rem; font-family: 'Comic Sans MS', cursive;">Felicidad</div>
                                <div class="font-normal text-2xl">en cada mordida</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Confeti decorativo de fondo -->
                    <div class="absolute inset-0 overflow-hidden pointer-events-none">
                        <!-- Confeti superior -->
                        <div class="absolute top-8 left-12 w-3 h-5 bg-yellow-400 rotate-12 opacity-80"></div>
                        <div class="absolute top-12 left-24 w-2 h-4 bg-cyan-400 -rotate-45 opacity-70"></div>
                        <div class="absolute top-6 left-1/4 w-3 h-4 bg-pink-300 rotate-90 opacity-80"></div>
                        <div class="absolute top-14 left-1/3 w-2 h-5 bg-green-400 -rotate-12 opacity-70"></div>
                        <div class="absolute top-10 right-32 w-3 h-4 bg-orange-400 rotate-45 opacity-80"></div>
                        <div class="absolute top-5 right-20 w-2 h-5 bg-white rotate-12 opacity-70"></div>
                        <div class="absolute top-16 right-1/4 w-3 h-3 bg-yellow-300 -rotate-90 opacity-80"></div>
                        <div class="absolute top-8 right-1/3 w-2 h-4 bg-purple-400 rotate-45 opacity-70"></div>
                        
                        <!-- Confeti disperso medio -->
                        <div class="absolute top-1/4 left-16 w-3 h-4 bg-cyan-400 rotate-45 opacity-60"></div>
                        <div class="absolute top-1/3 left-32 w-2 h-5 bg-pink-400 -rotate-12 opacity-70"></div>
                        <div class="absolute top-1/4 right-24 w-3 h-3 bg-green-300 rotate-90 opacity-60"></div>
                        <div class="absolute top-1/3 right-40 w-2 h-4 bg-yellow-400 -rotate-45 opacity-70"></div>
                        
                        <!-- Confeti inferior - m√°s denso como en la imagen -->
                        <div class="absolute bottom-12 left-8 w-4 h-6 bg-yellow-400 rotate-12 opacity-80"></div>
                        <div class="absolute bottom-8 left-20 w-3 h-5 bg-cyan-400 -rotate-90 opacity-90"></div>
                        <div class="absolute bottom-16 left-32 w-4 h-5 bg-pink-400 rotate-45 opacity-80"></div>
                        <div class="absolute bottom-10 left-48 w-3 h-6 bg-green-400 -rotate-12 opacity-90"></div>
                        <div class="absolute bottom-14 left-64 w-4 h-4 bg-orange-400 rotate-90 opacity-80"></div>
                        
                        <div class="absolute bottom-12 right-8 w-4 h-6 bg-cyan-300 rotate-12 opacity-90"></div>
                        <div class="absolute bottom-8 right-20 w-3 h-5 bg-yellow-400 -rotate-45 opacity-80"></div>
                        <div class="absolute bottom-16 right-32 w-4 h-5 bg-pink-300 rotate-90 opacity-90"></div>
                        <div class="absolute bottom-10 right-48 w-3 h-6 bg-green-300 -rotate-12 opacity-80"></div>
                        <div class="absolute bottom-14 right-64 w-4 h-4 bg-purple-400 rotate-45 opacity-90"></div>
                        
                        <!-- M√°s confeti inferior disperso -->
                        <div class="absolute bottom-20 left-1/4 w-3 h-5 bg-orange-400 rotate-12 opacity-70"></div>
                        <div class="absolute bottom-6 left-1/3 w-4 h-4 bg-yellow-300 -rotate-45 opacity-80"></div>
                        <div class="absolute bottom-18 right-1/4 w-3 h-5 bg-cyan-400 rotate-90 opacity-70"></div>
                        <div class="absolute bottom-8 right-1/3 w-4 h-6 bg-pink-400 -rotate-12 opacity-80"></div>
                    </div>
                    
                    <!-- Contenido -->
                    <div class="relative z-10 w-full flex flex-col items-center" style="margin-top: 140px;">
                        <!-- Header -->
                        <div class="text-center mb-8">
                            <h1 class="text-9xl font-bold text-white mb-5 drop-shadow-2xl flex items-center justify-center gap-5">
                                <span class="text-yellow-300 text-8xl drop-shadow-lg">‚ú®</span>
                                MEMORICE
                                <span class="text-yellow-300 text-8xl drop-shadow-lg">‚ú®</span>
                            </h1>
                            <div class="flex gap-6 justify-center items-center text-4xl font-bold">
                                <div class="bg-white/90 backdrop-blur-lg rounded-2xl px-10 py-4 border-4 border-white shadow-2xl" style="color: #DC2851;">
                                    Puntos: <span class="font-black">${moves}</span>
                                </div>
                                <div class="bg-white/90 backdrop-blur-lg rounded-2xl px-10 py-4 border-4 border-white shadow-2xl" style="color: #DC2851;">
                                    Tiempo: <span class="font-black">${timer}s</span>
                                </div>
                                <button onclick="initializeGame()" 
                                        class="bg-white text-4xl font-black rounded-2xl px-10 py-4 transition-all border-4 border-white shadow-2xl cursor-pointer"
                                        style="color: #DC2851;">
                                    üîÑ Reiniciar
                                </button>
                            </div>
                        </div>

                        <!-- Game Board -->
                        <div class="grid grid-cols-4 gap-12 max-w-none px-12">
                            ${cards.map(card => {
                                const isFlipped = showInitial || flipped.includes(card.id) || solved.includes(card.id);
                                const isSolved = solved.includes(card.id);
                                const isJustMatched = isSolved && !flipped.includes(card.id);
                                
                                return `
                                    <div onclick="handleCardClick(${card.id})" 
                                         data-card-id="${card.id}"
                                         class="relative cursor-pointer"
                                         style="perspective: 1000px;">
                                        <div class="card-3d relative w-80 h-80 ${isFlipped ? 'flipped' : ''} ${isJustMatched ? 'card-matched' : ''}"
                                             style="transform-style: preserve-3d;">
                                            
                                            <!-- Front (logo Breden Master completo) -->
                                            <div class="card-face absolute w-full h-full rounded-3xl flex items-center justify-center shadow-2xl transition-shadow"
                                                 style="background: linear-gradient(135deg, #DC2851 0%, #C8395C 100%);">
                                                <div class="w-full h-full flex items-center justify-center p-8 relative">
                                                    <div class="flex items-center gap-6">
                                                        <!-- Logo del pan blanco con Breden Master -->
                                                        <div class="relative" style="width: 160px; height: 180px;">
                                                            <svg viewBox="0 0 200 220" class="w-full h-full">
                                                                <!-- Forma del pan blanco -->
                                                                <path d="M 30 100 Q 30 50 60 40 Q 100 30 120 50 Q 140 30 170 50 Q 190 70 190 120 Q 190 170 170 200 L 30 200 Q 15 170 15 140 Q 15 120 30 100 Z" 
                                                                      fill="white"/>
                                                                <!-- Texto Breden en rojo -->
                                                                <text x="100" y="130" font-size="42" font-weight="bold" fill="#DC2851" text-anchor="middle" font-family="Arial, sans-serif">Breden</text>
                                                                <!-- Texto Master en rojo -->
                                                                <text x="100" y="170" font-size="40" font-weight="bold" fill="#DC2851" text-anchor="middle" font-family="Arial, sans-serif">Master<tspan font-size="20" baseline-shift="super">¬Æ</tspan></text>
                                                            </svg>
                                                        </div>
                                                        <!-- Texto Felicidad en blanco -->
                                                        <div class="text-white text-left">
                                                            <div class="font-bold leading-none mb-1" style="font-size: 4rem; font-family: 'Comic Sans MS', cursive; letter-spacing: -0.02em;">Felicidad</div>
                                                            <div class="font-normal" style="font-size: 2rem;">en cada mordida</div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- Back (contenido) -->
                                            <div class="card-face card-back absolute w-full h-full rounded-3xl flex items-center justify-center border-4 shadow-2xl transition-all ${
                                                isSolved ? 'bg-gradient-to-br from-cyan-400 to-blue-500 border-cyan-300' : 'bg-white border-gray-200'
                                            }">
                                                <span class="drop-shadow-lg" style="font-size: 12rem;">${card.emoji}</span>
                                            </div>
                                        </div>
                                    </div>
                                `;
                            }).join('')}
                        </div>
                    </div>

                    <!-- Victory Modal -->
                    ${gameWon ? `
                        <div class="fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50">
                            <div class="bg-gradient-to-br from-yellow-400 via-orange-400 to-pink-500 rounded-3xl p-20 text-center border-8 border-white shadow-2xl">
                                <div style="font-size: 12rem;" class="mb-8">üèÜ</div>
                                <h2 class="text-9xl font-bold text-white mb-8">¬°GANASTE!</h2>
                                <p class="text-6xl text-white mb-10">
                                    Completado en <span class="font-bold">${moves}</span> movimientos
                                </p>
                                <button onclick="initializeGame()" 
                                        class="bg-white text-purple-600 text-5xl font-bold rounded-3xl px-16 py-8 transition-all cursor-pointer shadow-2xl">
                                    Jugar de Nuevo
                                </button>
                            </div>
                        </div>
                    ` : ''}
                </div>
            `;
        }

        // Iniciar el juego
        initializeGame();
    </script>
</body>
</html>

